<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>柱状图</title>
    <script src="js/jquery.js"></script>
    <script src="bower_components/d3/d3.js"></script>
    <script src="js/fd3.js"></script>
</head>
<body>
<style>
    .main{
        padding:20px;
        width: 90%;
        height: 300px;
        margin:20px;
    }
</style>
<button onclick="test()">123</button>
<div class="main">

</div>
<script>
    var option = {
        xAxis : [
            {
                type : 'category',
                data : ["07/01","07/02","07/03"]
            }
        ],
        yAxis : [
            {
                type : 'value'
            }
        ],
        series : [
            {
                type:'groupbar',
                data:[
                    {
                        "name": "苹果",
                        "value": 123
                    }
                    ,{
                        "name": "梨子",
                        "value": 123
                    }
                ]
            },

            {
                type:'groupbar',
                data:[
                    {
                        "name": "苹果",
                        "value": 346
                    }
                ]
            },
            {
                type:'groupbar',
                data:[
                    {
                        "name": "苹果",
                        "value": 100
                    },{
                        "name": "梨子",
                        "value": 123
                    }
                ]
            },

        ]
    };
    var div = document.querySelector('.main');
    var chart = fd3.init(div);
    chart.loadConfig(option);

    var j= 0,k=0;
    var tmp=['水果','水果1']
    function test(){
        for(var i=0;i<option.series.length;i++){
            var data =option.series[i].data;
            data.push({name:tmp[j]+k,value:Math.random()*100});
        }
        k++;
        j++;
        j%=tmp.length;
        chart.loadConfig(option);
    }

//    setTimeout(function(){
//        for(var i=0;i<option.series.length;i++){
//            var data =option.series[i].data;
//            data[0].value=Math.random()*300;
//            data[1].value=Math.random()*300;
//        }
//
//        chart.loadConfig(option);
//
//    },2000);

</script>

</body>
</html>