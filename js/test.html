<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>test</title>
    <script src="../bower_components/jquery/dist/jquery.js"></script>
    <script src="../bower_components/d3/d3.js"></script>
    <script src="xCharts.js"></script>
    <script src="utils/utils.js"></script>
    <script src="components/Component.js"></script>
    <script src="components/axis.js"></script>
    <script src="components/legend.js"></script>
    <script src="components/title.js"></script>
    <script src="components/tooltip.js"></script>
    <script src="charts/Chart.js"></script>
    <script src="charts/scatter.js"></script>
    <link rel="stylesheet" href="css/xCharts.css"/>
</head>
<body>
<style>
    .main {
        padding:30px;
        box-sizing: border-box;
        border: 5px solid #000;
        width: 100%;
        height: 500px;
    }

</style>
<button onclick="random()">开始触发updateSeries</button>

<div class="main">
</div>

<!--</div>-->
<canvas style="width: 1000px;height: 500px;"></canvas>
<script>
   var line= xCharts('.main');

   var option = {
       tooltip:{
           show:true,
           trigger:'axis'
       },
       legend:{
           show:true,
           data:['业绩','失业'],
           x:'left',
           y:'',
           selectedMode:'single',
           item:{},

       },
       title:{
           show:false,
            text:'折线图',
           subtext:'数据虚构'
       },
       xAxis: [{
           type: 'value'
       }],
       yAxis: [{
           type: 'value'
       }],
       series: [
           {
               name: '业绩',
               type: 'scatter',
               data: [[161.2, 51.6], [167.5, 59.0], [159.5, 49.2], [157.0, 63.0], [155.8, 53.6],
                   [170.0, 59.0], [159.1, 47.6], [166.0, 69.8], [176.2, 66.8], [160.2, 75.2],
                   [172.5, 55.2], [170.9, 54.2], [172.9, 62.5], [153.4, 42.0], [160.0, 50.0]
               ],
               size:function(d){
                   return d[1]/8;
               }
           },
           {
               name:'失业',
               type:'scatter',
               data:[[174.0, 65.6], [175.3, 71.8], [193.5, 80.7], [186.5, 72.6], [187.2, 78.8],
                   [181.5, 74.8], [184.0, 86.4], [184.5, 78.4], [175.0, 62.0], [184.0, 81.6],
                   [180.0, 76.6], [177.8, 83.6], [192.0, 90.0], [176.0, 74.6], [174.0, 71.0]
               ]
           }
       ]
   };
   line.loadConfig(option);

//    window.addEventListener('resize',function(){
//        console.log(1);
//        line.refresh();
//    }
    function random(){
//        option.series[0].areaStyle.show=false;
        option.series[0].data=getData(7,10,100);
        option.series[1].data=getData(7,10,100);
        line.updateSeries(option.series);

    }
    function getData(len,max,min){
        var data=[];
        for(var i=len;i>0;i--){
            data.push( Math.ceil( (Math.random()*(max-min)+min) ));
        }
        return data;
    }
</script>
<script>
//    document.querySelector(".o1").addEventListener('mousemove',function(e){
//        console.log(e, e.clientX, e.clientY, e.offsetX, e.offsetY, e.x, e.y);
//    })


</script>
</body>
</html>